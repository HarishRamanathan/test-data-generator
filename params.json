{"name":"Test-data-generator","tagline":"Tools to generate data for testing","body":"# test-data-generator\r\nTools to generate data for testing\r\n\r\n## Usage\r\n\r\n```\r\n<dependency>\r\n    <groupId>com.presidentio</groupId>\r\n    <artifactId>test-data-generator</artifactId>\r\n    <version>1.0.3</version>\r\n</dependency>\r\n```\r\n\r\n```\r\nSchema schema = new SchemaBuilder().fromResource(\"schema.json\").build();\r\nGenerator generator = new Generator();\r\ngenerator.generate(schema);\r\n```\r\n\r\n## Value Providers\r\n\r\n##### const\r\n\r\nReturn const value for each entity. Support all data types.\r\n\r\nProperties:\r\n* *value* - required. Value used as constant. Example: \"123\"\r\n\r\n##### email\r\n\r\nGenerate emails with const domain. Support only **string** data type.\r\n\r\nProperties:\r\n* *domain* - email domain. Example: \"gmail.com\". Default value: **email.com**\r\n\r\n##### expr\r\n\r\nEvaluate expression. Expression can use variables declared in **variables** section and parent variable which point\r\nto parent entity. See details here http://mvel.codehaus.org/ . Support all data types.\r\n\r\nProperties:\r\n* *expr* - required, expression which will be evaluated\r\n\r\n##### random\r\n\r\nReturn random value. Support all data types.\r\n\r\nProperties:\r\n* *size* - expression which will be evaluated. Expression can use variables declared in **variables** section. Default value: **10**\r\n\r\n##### select\r\n\r\nReturn on value of specified. Support all data types.\r\n\r\nProperties:\r\n* *items* - required, delimiter separated values, one of them will be selected randomly\r\n* *delimiter* - default value: **,**\r\n\r\n##### people-name\r\n\r\nReturn real people name.\r\n\r\n##### country\r\n\r\nReturn real country name.\r\n\r\n##### time\r\n\r\nReturn real time value in milliseconds\r\n\r\n## Output\r\n\r\n##### console\r\n\r\nPrint all generate data to the System.out\r\n\r\n##### file\r\n\r\nWrite sql formatted data to file.\r\n\r\nProperties:\r\n* *file* - required, file to save data\r\n* *format* - one of csv, tsv, sv(require *deimiter* property), sql, es(require *index* property), default is csv\r\n\r\nNote: Be care with first three formats, they works well only with identically structured templates  \r\n\r\n##### sql-direct\r\n\r\nWrite sql formatted by jdbc connection.\r\n\r\nProperties:\r\n* *jdbcDriver* - jdbc driver to init jdbc connection and check does it support multi insert\r\n* *connectionUrl* - jdbc connection url with username and password if it requires\r\n\r\n##### es-direct\r\n\r\nWrite Elastic Search bulk formatted data to file.\r\n\r\nProperties:\r\n* *host* - required, elastic search node host\r\n* *port* - required, elastic search node port\r\n* *clusterName* - required, elastic search cluster name\r\n* *index* - required, index name\r\n\r\n## Placeholders\r\n\r\nYou can user placeholder in any string field value. Placeholder format is ${placeholder_name}.\r\n\r\n##### Available:\r\n* ${tmp} - replacing with path to tmp directory\r\n\r\n\r\n## Schema extending\r\n\r\n##### Merge two schemas in one:\r\n\r\n```\r\nSchema schema = new SchemaBuilder()\r\n    .fromResource(\"schema1.json\")\r\n    .fromResource(\"schema2.json\")\r\n    .build();\r\n...\r\n```\r\n\r\n##### Template extending\r\n```\r\n...\r\n  \"templates\": [\r\n    {\r\n      \"id\": \"user\",\r\n      \"count\": 10,\r\n      \"name\": \"user\",\r\n      \"fields\": [\r\n        {\r\n          \"name\": \"id\",\r\n          \"type\": \"long\",\r\n          \"provider\": {\r\n            \"name\": \"expr\",\r\n            \"props\": {\r\n              \"expr\": \"userId++\"\r\n            }\r\n          }\r\n        },\r\n        {\r\n          \"name\": \"email\",\r\n          \"type\": \"string\",\r\n          \"provider\": {\r\n            \"name\": \"email\"\r\n          }\r\n        },\r\n        {\r\n          \"name\": \"name\",\r\n          \"type\": \"string\",\r\n          \"provider\": {\r\n            \"name\": \"people-name\"\r\n          }\r\n        }\r\n      ],\r\n      \"childs\": [\r\n        \"training1\"\r\n      ]\r\n    },\r\n    {\r\n      \"id\": \"user1\",\r\n      \"count\": 10,\r\n      \"extend\": \"user\"\r\n    },\r\n...\r\n```\r\n\r\n## Schema example\r\n\r\n```\r\n{\r\n    \"output\": {\r\n        \"type\": \"file\",\r\n        \"props\": {\r\n            \"file\": \"${tmp}/a.sql\",\r\n            \"format\": \"sql\"\r\n        }\r\n    },\r\n    \"templates\": [\r\n        {\r\n            \"id\": \"user1\",\r\n            \"count\": 10,\r\n            \"name\": \"user\",\r\n            \"fields\": [\r\n                {\r\n                    \"name\": \"id\",\r\n                    \"type\": \"long\",\r\n                    \"provider\": {\r\n                        \"name\": \"expr\",\r\n                        \"props\": {\r\n                            \"expr\": \"userId++\"\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    \"name\": \"email\",\r\n                    \"type\": \"string\",\r\n                    \"provider\": {\r\n                        \"name\": \"email\"\r\n                    }\r\n                } ,\r\n                {\r\n                    \"name\": \"name\",\r\n                    \"type\": \"string\",\r\n                    \"provider\": {\r\n                        \"name\": \"people-name\"\r\n                    }\r\n                }\r\n            ],\r\n            \"childs\": [\r\n                \"training1\"\r\n            ]\r\n        },\r\n        {\r\n            \"id\": \"user2\",\r\n            \"count\": 1,\r\n            \"name\": \"user\",\r\n            \"fields\": [\r\n                {\r\n                    \"name\": \"id\",\r\n                    \"type\": \"long\",\r\n                    \"provider\": {\r\n                        \"name\": \"expr\",\r\n                        \"props\": {\r\n                            \"expr\": \"userId++\"\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    \"name\": \"email\",\r\n                    \"type\": \"string\",\r\n                    \"provider\": {\r\n                        \"name\": \"const\",\r\n                        \"props\": {\r\n                            \"value\": \"test@email.com\"\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n            \"childs\": [\r\n                \"training1\"\r\n            ]\r\n        },\r\n        {\r\n            \"id\": \"training1\",\r\n            \"count\": 5,\r\n            \"name\": \"training\",\r\n            \"fields\": [\r\n                {\r\n                    \"name\": \"id\",\r\n                    \"type\": \"long\",\r\n                    \"provider\": {\r\n                        \"name\": \"expr\",\r\n                        \"props\": {\r\n                            \"expr\": \"trainingId++\"\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    \"name\": \"name\",\r\n                    \"type\": \"string\",\r\n                    \"provider\": {\r\n                        \"name\": \"random\",\r\n                        \"props\": {\r\n                            \"size\": 10\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    \"name\": \"week\",\r\n                    \"type\": \"int\",\r\n                    \"provider\": {\r\n                        \"name\": \"expr\",\r\n                        \"props\": {\r\n                            \"expr\": \"0 | 1 | 8\"\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    \"name\": \"userId\",\r\n                    \"type\": \"long\",\r\n                    \"provider\": {\r\n                        \"name\": \"expr\",\r\n                        \"props\": {\r\n                            \"expr\": \"parent.id\"\r\n                        }\r\n                    }\r\n                }\r\n            ],\r\n            \"childs\":[\r\n                \"exercise1\"\r\n            ]\r\n        },\r\n        {\r\n            \"id\": \"exercise1\",\r\n            \"count\": 5,\r\n            \"name\": \"exercise\",\r\n            \"fields\": [\r\n                {\r\n                    \"name\": \"id\",\r\n                    \"type\": \"long\",\r\n                    \"provider\": {\r\n                        \"name\": \"expr\",\r\n                        \"props\": {\r\n                            \"expr\": \"exerciseId++\"\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    \"name\": \"name\",\r\n                    \"type\": \"string\",\r\n                    \"provider\": {\r\n                        \"name\": \"random\",\r\n                        \"props\": {\r\n                            \"size\": 10\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    \"name\": \"userId\",\r\n                    \"type\": \"long\",\r\n                    \"provider\": {\r\n                        \"name\": \"expr\",\r\n                        \"props\": {\r\n                            \"expr\": \"parent.parent.id\"\r\n                        }\r\n                    }\r\n                },\r\n                {\r\n                    \"name\": \"trainingId\",\r\n                    \"type\": \"long\",\r\n                    \"provider\": {\r\n                        \"name\": \"expr\",\r\n                        \"props\": {\r\n                            \"expr\": \"parent.id\"\r\n                        }\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n    \"variables\": [\r\n        {\r\n            \"name\": \"userId\",\r\n            \"type\": \"long\",\r\n            \"initValue\": \"1\"\r\n        },\r\n        {\r\n            \"name\": \"trainingId\",\r\n            \"type\": \"long\",\r\n            \"initValue\": \"1\"\r\n        },\r\n        {\r\n            \"name\": \"exerciseId\",\r\n            \"type\": \"long\",\r\n            \"initValue\": \"1\"\r\n        }\r\n    ],\r\n    \"root\": [\r\n        \"user1\",\r\n        \"user2\"\r\n    ]\r\n}\r\n```","google":"UA-64112096-2","note":"Don't delete this file! It's used internally to help with page regeneration."}